<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="css/img/image.png">
  <title>IDentify</title>
  <link rel="stylesheet" href="css/novo caso.css">
  <!-- Apenas essas linhas no HTML, se ainda não tiver no projeto -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>




</head>
<body>

  <!-- Logo -->
  <div class="logo-container">
    <img src="css/img/logo.png" class="logo">
  </div>
  
  <!-- Menu lateral -->
  <div class="menu-lateral">
    <a href="#"><img src="css/img/home.png" class="icone" alt="Início">Início</a>
    <a href="#"><img src="css/img/file.png" class="icone" alt="Caso Novo">Caso Novo</a>
    <a href="#"><img src="css/img/folder.png" class="icone" alt="Projetos">Casos</a>
  </div>

<!-- Retângulo de fundo -->
<div class="retangulo-fundo">
    <div class="ficha-caso">
      <div class="cabecalho">
        <div class="campo">
          <label for="titulo">Título:</label>
          <input type="text" id="titulo" value="Caso 1" readonly>
        </div>
        <div class="campo">
          <label for="codigo">Código:</label>
          <input type="text" id="codigo" value="26783651" readonly>
        </div>
        <div class="campo">
          <label for="perito">Perito:</label>
          <input type="text" id="perito" value="José" readonly>
        </div>
        <div class="campo">
          <label for="status">Status:</label>
          <input type="text" id="status" value="Em andamento ou concluído" readonly>
        </div>
        <div class="campo">
          <label for="data-ocorrencia">Data de ocorrência:</label>
          <input type="date" id="data-emissao" style="width: 218px;" placeholder="20/02/2025" required>
        </div>
        <div class="campo">
          <label for="data-emissao">Data de emissão:</label>
          <input type="date" id="data-emissao" style="width: 218px;" placeholder="20/02/2025" required>
        </div>
        <div class="campo">
          <label for="local">Local:</label>
          <input type="text" id="local" value="Recife, Pernambuco" readonly>
        </div>
      </div>
    
      <div class="descricao">
        <textarea 
          id="descricao" 
          rows="15" 
          style="width: 100%; resize: vertical;" 
          readonly
        >Descrição completa</textarea>
      </div>
      <button id="btn-salvar-caso" class="salvar">Salvar Dados do Caso</button></div>
  

      </div>
</div>
  


  <!-- Painel superior com busca e perfil -->
  <div class="painel-flutuante">
    <div class="painel-conteudo">
      <div class="search-bloco">
        <input type="text" placeholder="Buscar casos...">
        <span class="icone-filtro">
          <img src="css/img/filtro.png" alt ="Filtro" class="img-filtro">
        </span>
      </div>
  
      <div class="perfil-bloco">
        <img src="css/img/foto.png" alt="Perfil" class="icone-perfil">
        <div class="info">
          <span class="nome">João Silva</span>
          <span class="cargo">Administrador</span>
        </div>
      </div>
    </div>
  </div>



  <script>
    // === SALVAR DADOS DO CASO ===
document.getElementById('btn-salvar-caso').addEventListener('click', () => {
  // Coletar coordenadas do marcador, se existir
  let coordenadas = null;
  if (marker) {
    const latlng = marker.getLatLng();
    coordenadas = {
      latitude: latlng.lat,
      longitude: latlng.lng
    };
  }

  // Coletar arquivos do input de anexos
  const inputAnexos = document.getElementById('inputAnexos');
  const arquivosAnexos = Array.from(inputAnexos.files).map(file => file.name);

  const dados = {
    titulo: document.getElementById('titulo').value,
    codigo: document.getElementById('codigo').value,
    perito: document.getElementById('perito').value,
    status: document.getElementById('status').value,
    dataOcorrencia: document.getElementById('data-ocorrencia').value,
    dataEmissao: document.getElementById('data-emissao').value,
    local: document.getElementById('local').value,
    evidencias: evidenciasLocal.map(e => e.name),
    coordenadas: coordenadas,
    anexos: arquivosAnexos
  };

  alert('Dados do caso salvos localmente:\n' + JSON.stringify(dados, null, 2));
  console.log('Dados do caso salvos localmente:', dados);
});

  </script>
  
  
  <!-- Script separado -->
<script src="js/script.js"></script>

</body>
</html>
